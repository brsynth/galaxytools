<tool id="selenzy-wrapper" name="Selenzyme" version="0.1.0">
    <description>Performs enzyme selection from a reaction query</description>
	<requirements>
        <requirement type="package" version="0.1.0">selenzy_wrapper</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
	    python -m selenzy_wrapper '$pathway' '$uniprot_ids'
        --nb_targets '$adv.nb_targets'
        --d '$adv.direction'
        #if str($adv.NoMSA) == "false":
            --NoMSA
        #end if
        --taxonIDs '$adv.taxonIDs'
        --nb_ids '$adv.nb_ids'
        --to_csv '$uniprot_ids_csv'
    ]]></command>
    <inputs>
		<param name="pathway" type="data" format="xml" label="Pathway (SBML)" />
        <section name="adv" title="Advanced Options" expanded="false">
		    <param name="nb_ids"        type="integer" value="-1"       label="Number of uniprot IDs with top score to keep" />
		    <param name="nb_targets"        type="integer" value="500"       label="Number of targets to display in results" />
            <param name="direction"        type="float" value="0"       label="Use similiarity values for preferred reaction direction only" />
            <param name="NoMSA"     type="boolean" label="Do not compute MSA/conservation scores ?"       checked="true"   display="checkboxes" />
            <param name="taxonIDs" type="text" label="Comma separated taxon ids (first considered as the host)" value="83333" />
        </section>
    </inputs>
    <outputs>
        <data name="uniprot_ids" format="xml" label="Uniprot IDs" />
        <data name="uniprot_ids_csv" format="csv" label="Uniprot IDs" />
    </outputs>
    <help><![CDATA[
Selenzyme
================

Performs enzyme selection from a reaction query.

Input
-----

* **pathway_file**\ : (string) path to pathway file
* **nb_targets**\ : (integer) Number of targets to display in results (before taxon IDs filtering) [default = 20]
* **nb_ids**\ : (integer) Number of enzyme IDs to display in results (after taxon IDs filtering) [default = -1 (no limit)]
* **direction**\ : (float) Use similiarity values for preferred reaction direction only [default=0 (OFF)]
* **NoMSA**\ : (boolean) Do not compute MSA/conservation scores
* **taxonIDs**\ : (string) Comma separated taxon ids [default: 83333 (E. coli K12)]. The first taxon ID is the one of the chassis, following ones are taxon IDs of output enzyme sequences

Output
------

* **outfile**\ : (string) Path to output file

Project Links
------------------

* `GitHub <https://github.com/brsynth/selenzy-wrapper>`_

Version
----------

0.1.0

Authors
-------
* **Joan Hérisson**

License
-------

* `MIT <https://github.com/brsynth/selenzy-wrapper/blob/master/LICENSE>`_

Acknowledgments
---------------

* Thomas Duigou

    ]]></help>
    <citations>
        <citation type="bibtex">
@article{10.1093/bioinformatics/bty065,
  title={Selenzyme: enzyme selection tool for pathway design},
  author={Pablo Carbonell, Jerry Wong, Neil Swainston, Eriko Takano, Nicholas J Turner, Nigel S Scrutton, Douglas B Kell, Rainer Breitling, Jean-Loup Faulon},
  volume={34},
  pages={2153–2154},
  year={2018},
  doi = {10.1093/bioinformatics/bty065},
  url = {https://doi.org/10.1093/bioinformatics/bty065},
}
        </citation>
    </citations>
</tool>